<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 552.26953125 1244.109375" style="max-width: 552.26953125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="graphDiv"><style>#graphDiv{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#graphDiv .error-icon{fill:#552222;}#graphDiv .error-text{fill:#552222;stroke:#552222;}#graphDiv .edge-thickness-normal{stroke-width:2px;}#graphDiv .edge-thickness-thick{stroke-width:3.5px;}#graphDiv .edge-pattern-solid{stroke-dasharray:0;}#graphDiv .edge-pattern-dashed{stroke-dasharray:3;}#graphDiv .edge-pattern-dotted{stroke-dasharray:2;}#graphDiv .marker{fill:#333333;stroke:#333333;}#graphDiv .marker.cross{stroke:#333333;}#graphDiv svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#graphDiv .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#graphDiv .cluster-label text{fill:#333;}#graphDiv .cluster-label span,#graphDiv p{color:#333;}#graphDiv .label text,#graphDiv span,#graphDiv p{fill:#333;color:#333;}#graphDiv .node rect,#graphDiv .node circle,#graphDiv .node ellipse,#graphDiv .node polygon,#graphDiv .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#graphDiv .flowchart-label text{text-anchor:middle;}#graphDiv .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#graphDiv .node .label{text-align:center;}#graphDiv .node.clickable{cursor:pointer;}#graphDiv .arrowheadPath{fill:#333333;}#graphDiv .edgePath .path{stroke:#333333;stroke-width:2.0px;}#graphDiv .flowchart-link{stroke:#333333;fill:none;}#graphDiv .edgeLabel{background-color:#e8e8e8;text-align:center;}#graphDiv .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#graphDiv .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#graphDiv .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#graphDiv .cluster text{fill:#333;}#graphDiv .cluster span,#graphDiv p{color:#333;}#graphDiv div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#graphDiv .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#graphDiv :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="graphDiv_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="graphDiv_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Request LE-AuthMiddleware" id="L-Request-AuthMiddleware-0" d="M164.352,33.5L164.352,37.667C164.352,41.833,164.352,50.167,164.352,57.617C164.352,65.067,164.352,71.633,164.352,74.917L164.352,78.2"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-AuthMiddleware LE-CheckToken" id="L-AuthMiddleware-CheckToken-0" d="M164.352,117L164.352,121.167C164.352,125.333,164.352,133.667,164.418,141.2C164.484,148.734,164.616,155.467,164.682,158.834L164.748,162.201"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CheckToken LE-Unauthorized" id="L-CheckToken-Unauthorized-0" d="M127.735,267.204L113.544,279.015C99.353,290.826,70.972,314.448,56.781,343.257C42.59,372.065,42.59,406.06,42.59,440.055C42.59,474.049,42.59,508.044,45.827,530.01C49.064,551.976,55.539,561.912,58.776,566.88L62.013,571.849"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CheckToken LE-VerifyToken" id="L-CheckToken-VerifyToken-0" d="M191.962,277.21L198.592,287.353C205.221,297.497,218.481,317.784,225.181,332.835C231.881,347.887,232.023,357.704,232.093,362.612L232.164,367.521"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-VerifyToken LE-Unauthorized" id="L-VerifyToken-Unauthorized-0" d="M200.765,476.813L191.172,487.684C181.579,498.555,162.394,520.297,145.963,536.343C129.532,552.39,115.856,562.74,109.017,567.915L102.179,573.091"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-VerifyToken LE-SetUser" id="L-VerifyToken-SetUser-0" d="M255.472,485.058L260.39,494.554C265.307,504.051,275.143,523.045,280.061,537.367C284.979,551.689,284.979,561.339,284.979,566.164L284.979,570.989"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-SetUser LE-CheckAdmin" id="L-SetUser-CheckAdmin-0" d="M284.979,609.789L284.979,613.956C284.979,618.122,284.979,626.456,285.045,633.989C285.111,641.523,285.243,648.256,285.309,651.623L285.375,654.99"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CheckAdmin LE-StandardEndpoint" id="L-CheckAdmin-StandardEndpoint-0" d="M244.425,808.954L234.766,821.422C225.106,833.889,205.787,858.823,196.128,876.116C186.469,893.408,186.469,903.058,186.469,907.883L186.469,912.708"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CheckAdmin LE-AdminCheck" id="L-CheckAdmin-AdminCheck-0" d="M326.532,808.954L336.025,821.422C345.517,833.889,364.503,858.823,373.996,876.116C383.488,893.408,383.488,903.058,383.488,907.883L383.488,912.708"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-AdminCheck LE-CheckRole" id="L-AdminCheck-CheckRole-0" d="M383.488,951.508L383.488,955.674C383.488,959.841,383.488,968.174,383.554,975.708C383.62,983.241,383.752,989.975,383.818,993.342L383.884,996.709"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CheckRole LE-AdminEndpoint" id="L-CheckRole-AdminEndpoint-0" d="M354.114,1096.735L344.185,1107.339C334.256,1117.943,314.398,1139.151,304.468,1154.58C294.539,1170.009,294.539,1179.659,294.539,1184.484L294.539,1189.309"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CheckRole LE-Forbidden" id="L-CheckRole-Forbidden-0" d="M413.862,1096.735L423.625,1107.339C433.387,1117.943,452.912,1139.151,462.675,1154.58C472.438,1170.009,472.438,1179.659,472.438,1184.484L472.438,1189.309"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(42.58984375, 440.0546875)" class="edgeLabel"><g transform="translate(-32.04296875, -9.25)" class="label"><foreignObject height="18.5" width="64.0859375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No token</span></div></foreignObject></g></g><g transform="translate(231.740234375, 338.0703125)" class="edgeLabel"><g transform="translate(-35.3203125, -9.25)" class="label"><foreignObject height="18.5" width="70.640625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Has token</span></div></foreignObject></g></g><g transform="translate(143.208984375, 542.0390625)" class="edgeLabel"><g transform="translate(-46.4609375, -9.25)" class="label"><foreignObject height="18.5" width="92.921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Invalid token</span></div></foreignObject></g></g><g transform="translate(284.978515625, 542.0390625)" class="edgeLabel"><g transform="translate(-40.015625, -9.25)" class="label"><foreignObject height="18.5" width="80.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Valid token</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(186.46875, 883.7578125)" class="edgeLabel"><g transform="translate(-9.3984375, -9.25)" class="label"><foreignObject height="18.5" width="18.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g transform="translate(383.48828125, 883.7578125)" class="edgeLabel"><g transform="translate(-11.32421875, -9.25)" class="label"><foreignObject height="18.5" width="22.6484375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(294.5390625, 1160.359375)" class="edgeLabel"><g transform="translate(-27.3359375, -9.25)" class="label"><foreignObject height="18.5" width="54.671875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">role = 1</span></div></foreignObject></g></g><g transform="translate(472.4375, 1160.359375)" class="edgeLabel"><g transform="translate(-27.3359375, -9.25)" class="label"><foreignObject height="18.5" width="54.671875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">role ≠ 1</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(164.3515625, 16.75)" data-id="Request" data-node="true" id="flowchart-Request-137" class="node default default flowchart-label"><rect height="33.5" width="99.2265625" y="-16.75" x="-49.61328125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-42.11328125, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="84.2265625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">API Request</span></div></foreignObject></g></g><g transform="translate(164.3515625, 100.25)" data-id="AuthMiddleware" data-node="true" id="flowchart-AuthMiddleware-138" class="node default default flowchart-label"><rect height="33.5" width="135.53125" y="-16.75" x="-67.765625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-60.265625, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="120.53125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Auth Middleware</span></div></foreignObject></g></g><g transform="translate(164.3515625, 235.41015625)" data-id="CheckToken" data-node="true" id="flowchart-CheckToken-140" class="node default default flowchart-label"><polygon style="" transform="translate(-68.41015625,68.41015625)" class="label-container" points="68.41015625,0 136.8203125,-68.41015625 68.41015625,-136.8203125 0,-68.41015625"></polygon><g transform="translate(-44.16015625, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="88.3203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Check token</span></div></foreignObject></g></g><g transform="translate(75.8203125, 593.0390625)" data-id="Unauthorized" data-node="true" id="flowchart-Unauthorized-142" class="node default default flowchart-label"><rect height="33.5" width="151.640625" y="-16.75" x="-75.8203125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-68.3203125, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="136.640625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">401 - Unauthorized</span></div></foreignObject></g></g><g transform="translate(231.740234375, 440.0546875)" data-id="VerifyToken" data-node="true" id="flowchart-VerifyToken-144" class="node default default flowchart-label"><polygon style="" transform="translate(-67.734375,67.734375)" class="label-container" points="67.734375,0 135.46875,-67.734375 67.734375,-135.46875 0,-67.734375"></polygon><g transform="translate(-43.484375, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="86.96875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Verify token</span></div></foreignObject></g></g><g transform="translate(284.978515625, 593.0390625)" data-id="SetUser" data-node="true" id="flowchart-SetUser-148" class="node default default flowchart-label"><rect height="33.5" width="102.484375" y="-16.75" x="-51.2421875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-43.7421875, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="87.484375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Set req.user</span></div></foreignObject></g></g><g transform="translate(284.978515625, 754.6484375)" data-id="CheckAdmin" data-node="true" id="flowchart-CheckAdmin-150" class="node default default flowchart-label"><polygon style="" transform="translate(-94.859375,94.859375)" class="label-container" points="94.859375,0 189.71875,-94.859375 94.859375,-189.71875 0,-94.859375"></polygon><g transform="translate(-70.609375, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="141.21875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Check Admin route?</span></div></foreignObject></g></g><g transform="translate(186.46875, 934.7578125)" data-id="StandardEndpoint" data-node="true" id="flowchart-StandardEndpoint-152" class="node default default flowchart-label"><rect height="33.5" width="146.8359375" y="-16.75" x="-73.41796875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-65.91796875, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="131.8359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Standard Endpoint</span></div></foreignObject></g></g><g transform="translate(383.48828125, 934.7578125)" data-id="AdminCheck" data-node="true" id="flowchart-AdminCheck-154" class="node default default flowchart-label"><rect height="33.5" width="147.203125" y="-16.75" x="-73.6015625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-66.1015625, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="132.203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Admin Middleware</span></div></foreignObject></g></g><g transform="translate(383.48828125, 1063.80859375)" data-id="CheckRole" data-node="true" id="flowchart-CheckRole-156" class="node default default flowchart-label"><polygon style="" transform="translate(-62.30078125,62.30078125)" class="label-container" points="62.30078125,0 124.6015625,-62.30078125 62.30078125,-124.6015625 0,-62.30078125"></polygon><g transform="translate(-38.05078125, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="76.1015625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Check role</span></div></foreignObject></g></g><g transform="translate(294.5390625, 1211.359375)" data-id="AdminEndpoint" data-node="true" id="flowchart-AdminEndpoint-158" class="node default default flowchart-label"><rect height="33.5" width="128.1328125" y="-16.75" x="-64.06640625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-56.56640625, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="113.1328125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Admin Endpoint</span></div></foreignObject></g></g><g transform="translate(472.4375, 1211.359375)" data-id="Forbidden" data-node="true" id="flowchart-Forbidden-160" class="node default default flowchart-label"><rect height="33.5" width="127.6640625" y="-16.75" x="-63.83203125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-56.33203125, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="112.6640625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">403 - Forbidden</span></div></foreignObject></g></g></g></g></g></svg>